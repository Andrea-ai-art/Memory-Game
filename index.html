<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Memory â€“ Musikmotive</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0f172a;
      color: #e5e7eb;
      display: flex;
      flex-direction: column; /* Wichtig fÃ¼r die Anordnung */
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
    }
    .game {
      display: grid;
      grid-template-columns: repeat(4, 120px);
      gap: 12px;
    }
    .card {
      width: 120px;
      height: 120px;
      perspective: 800px;
      cursor: pointer;
      opacity: 0;
      transform: scale(0.85) translateY(10px);
      transition: opacity 0.4s ease, transform 0.4s ease;
    }
    .card.show {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
    .card-inner {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.5s;
    }
    .card.flipped .card-inner {
      transform: rotateY(180deg);
    }
    .card-face {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 12px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 24px;
    }
    .front { background: #334155; }
    .back {
      background: #f8fafc;
      transform: rotateY(180deg);
    }
    img {
      max-width: 90%;
      max-height: 90%;
      border-radius: 8px;
    }
    #stats { margin-bottom: 16px; font-size: 18px; }
    #restart {
      margin-bottom: 20px;
      padding: 10px 18px;
      background: #1e293b;
      color: #e5e7eb;
      border: 1px solid #475569;
      border-radius: 8px;
      cursor: pointer;
    }
/* Das Design des Popups */
#song-popup {
  position: fixed;
  top: 40px; /* Etwas tiefer fÃ¼r bessere Sichtbarkeit */
  left: 50%;
  transform: translateX(-50%) translateY(-20px);
  background: rgba(15, 23, 42, 0.85); /* Tiefdunkles Blau, leicht transparent */
  backdrop-filter: blur(12px); /* Glas-Effekt */
  color: #38bdf8; /* Depeche-Mode-Blau */
  padding: 16px 32px;
  border-radius: 50px;
  border: 2px solid rgba(56, 189, 248, 0.4);
  font-weight: bold;
  font-size: 22px;
  letter-spacing: 1.5px;
  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.6), 0 0 15px rgba(56, 189, 248, 0.2);
  opacity: 0;
  pointer-events: none;
  transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  z-index: 2000;
  text-transform: uppercase; /* Sieht bei Songtiteln oft edler aus */
}

/* Wenn das Popup erscheint */
#song-popup.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
  animation: pulse-blue 2s infinite; /* Hier wird der Puls aktiviert */
}

/* Die Definition des "Pulse-Blue" Effekts */
@keyframes pulse-blue {
  0% {
    text-shadow: 0 0 5px #38bdf8;
    box-shadow: 0 0 10px rgba(56, 189, 248, 0.2), 0 15px 35px rgba(0, 0, 0, 0.6);
  }
  50% {
    text-shadow: 0 0 20px #38bdf8, 0 0 30px #0ea5e9;
    box-shadow: 0 0 25px rgba(56, 189, 248, 0.5), 0 15px 35px rgba(0, 0, 0, 0.6);
    transform: translateX(-50%) scale(1.05); /* Minimales VergrÃ¶ÃŸern beim Pulsen */
  }
  100% {
    text-shadow: 0 0 5px #38bdf8;
    box-shadow: 0 0 10px rgba(56, 189, 248, 0.2), 0 15px 35px rgba(0, 0, 0, 0.6);
  }
}
    #win-message.visible { display: block; }
  </style>
</head>
<body>

  <div id="song-popup"></div>

  <div id="stats">Versuche: <span id="moves">0</span></div>
  <button id="restart">Neustart</button>
  
  <div class="game" id="game"></div>

  <div id="win-message">
    <p>Everything counts. Du hast gewonnen!</p>
  </div>

  <audio id="bg-music" src="Memory.mp3" loop></audio>

<script>
// 1. ZUERST die Daten definieren
const cardsData = [
  { img: 'card01.png', title: 'World in my Eyes' },
  { img: 'card01.png', title: 'World in my Eyes' },
  { img: 'card02.png', title: 'Walking in My Shoes' },
  { img: 'card02.png', title: 'Walking in My Shoes' },
  { img: 'card03.png', title: 'Precious' },
  { img: 'card03.png', title: 'Precious' },
  { img: 'card04.png', title: 'A Question of Time' },
  { img: 'card04.png', title: 'A Question of Time' },
  { img: 'card05.png', title: 'Waiting for the Night' },
  { img: 'card05.png', title: 'Waiting for the Night' },
  { img: 'card06.png', title: 'Enjoy the Silence' },
  { img: 'card06.png', title: 'Enjoy the Silence' },
  { img: 'card07.png', title: 'Behind the Wheel' },
  { img: 'card07.png', title: 'Behind the Wheel' },
  { img: 'card08.png', title: 'People Are People' },
  { img: 'card08.png', title: 'People Are People' }
];

// 2. Variablen initialisieren
cardsData.sort(() => 0.5 - Math.random());

const game = document.getElementById('game');
const movesDisplay = document.getElementById('moves');
const songPopup = document.getElementById('song-popup');
const music = document.getElementById('bg-music');

let first = null;
let lock = false;
let moves = 0;
let matchedPairs = 0;
const totalPairs = cardsData.length / 2;
let musicStarted = false;

function startMusicOnce() {
  if (musicStarted || !music) return;  
  musicStarted = true;
  music.play().catch(err => console.log("Audio-Start verzÃ¶gert"));
}

function showSongTitle(title) {
  songPopup.textContent = title;
  songPopup.classList.add('show');
  setTimeout(() => {
    songPopup.classList.remove('show');
  }, 3000); // Von 2000 auf 3000 geÃ¤ndert
}
  
// 3. Karten erstellen
cardsData.forEach((data, index) => {
  const card = document.createElement('div');
  card.className = 'card';
  card.dataset.title = data.title;
  card.innerHTML = `
    <div class="card-inner">
      <div class="card-face front">ðŸŽµ</div>
      <div class="card-face back"><img src="${data.img}"></div>
    </div>
  `;

  card.addEventListener('click', () => {
    startMusicOnce(); 
    if (lock || card.classList.contains('flipped')) return;

    card.classList.add('flipped');

    if (!first) {
      first = card;
      return;
    }

    moves++;
    movesDisplay.textContent = moves;

    const img1 = first.querySelector('img').src;
    const img2 = card.querySelector('img').src;

    if (img1 === img2) {
      showSongTitle(card.dataset.title);
      matchedPairs++;
      first = null;
      if (matchedPairs === totalPairs) {
        document.getElementById('win-message').classList.add('visible');
      }
    } else {
      lock = true;
      setTimeout(() => {
        first.classList.remove('flipped');
        card.classList.remove('flipped');
        first = null;
        lock = false;
      }, 800);
    }
  });

  game.appendChild(card);
  setTimeout(() => card.classList.add('show'), index * 50);
});

document.getElementById('restart').addEventListener('click', () => location.reload());
</script>
</body>
</html>
